(this.webpackJsonpjsx=this.webpackJsonpjsx||[]).push([[0],{1114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(6),s=a.n(l),o=(a(41),a(42),a(43),a(8)),c=a(9),i=a(12),m=a(11),u=a(2),d=a.n(u),p=a(7),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottom-right",n={position:a,autoClose:8e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0};"error"===t?p.b.error(e,n):"info"===t?p.b.info(e,n):"warning"===t?p.b.warning(e,n):"dark"===t?Object(p.b)(e,n):p.b.success(e,n)},g=p.a,b=(a(13),a(62),function(e){return e.children}),v=a(3),E=a(1),h="http://51.11.37.127/dj-rest-auth/",N="http://51.11.37.127/api/",k="http://51.11.37.127/",w={username:"",password:""},y={username:"",email:"",first_name:"",last_name:"",password:"",password2:"",is_checked:!1,city:"",address:""},O=a(16),S=a.n(O),j=function(){var e=JSON.parse(localStorage.getItem("user")),t=null===e?new Date:e.expireDate,a=new Date,n=S()(a);return 0===S()(t).diff(n,"days")},x=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=document.getElementById(e),r=document.getElementById(e+"_feedback");t?(n.classList.remove("is-invalid"),r.classList.add("is-invisible"),r.classList.remove("is-visible")):(n.classList.add("is-invalid"),r.classList.add("is-visible"),r.classList.remove("is-invisible"),""!==a&&(r.text="text"))},C=function(e){var t=!1,a=Object(E.a)({},w),l=Object(n.useState)(!1),s=Object(v.a)(l,2),o=s[0],c=s[1],i=function(e){e.forEach((function(e){""===a[e]?(t=!1,!1||x(e,!1)):(t=!0,x(e,!0))}))},m=function(e){e.persist(),e.preventDefault();var t=e.target,n=t.id,r=t.value;a[n]=r};return r.a.createElement(b,null,r.a.createElement(g,null),r.a.createElement("div",{className:"col-md-4 col-sm-8 col-xs-6 mx-auto panel"},r.a.createElement("div",{className:"text-center py-4"},r.a.createElement("button",{onClick:function(){return e.back()},type:"button",className:"btn btn-lg float-left"},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("h3",{className:"form-title font-weight-bold"},"LOGIN")),r.a.createElement("form",{method:"POST",className:"p-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username ",r.a.createElement("span",{className:"require"},"*")),r.a.createElement("input",{type:"username",className:"form-control inputBG",id:"username","aria-describedby":"usernameHelp",placeholder:"Username",onChange:function(e){return m(e)},required:!0}),r.a.createElement("div",{id:"username_feedback",className:"invalid-feedback is-invisible"},"Please username is required.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password ",r.a.createElement("span",{className:"require"},"*")),r.a.createElement("input",{type:"password",className:"form-control inputBG",id:"password",placeholder:"Password",onChange:function(e){return m(e)},required:!0}),r.a.createElement("div",{id:"password_feedback",className:"invalid-feedback is-invisible"},"Please password is required.")),r.a.createElement("button",{disabled:o,onClick:function(n){return function(n){!0,n.persist(),n.preventDefault(),i(["username","password"]),t&&(c(!0),d.a.post("".concat(h,"login/"),a).then((function(t){if(c(!1),200===t.status){var a=Object(E.a)(Object(E.a)({token:t.data.access_token},t.data.user),{},{expireDate:new Date((new Date).getTime()+36e7)});e.submitLogin(a),localStorage.setItem("user",JSON.stringify(a)),window.location.href=k}})).catch((function(e){c(!1),!1,f("Unable to log in with provided credentials.","error","top-center")})))}(n)},className:"btn btn-color btn-block rounded-pill my-4"},o?"Sending...":"LOGIN"," ",o?r.a.createElement("i",{className:"fas fa-spinner fa-spin"}):r.a.createElement("i",{className:"fas fa-sign-in-alt"})),r.a.createElement("div",{className:"mt-3 text-center"},r.a.createElement("p",null,r.a.createElement("a",{href:"#/",className:"link"},"Forget password?"))))))},_=a(5),L=function(e){var t=Object(n.useState)(Object(E.a)({},y)),a=Object(v.a)(t,2),l=a[0],s=a[1],o=Object(n.useState)(!0),c=Object(v.a)(o,2),i=c[0],m=c[1],u=Object(n.useState)(!1),p=Object(v.a)(u,2),h=p[0],k=p[1],w=!1,O=!1,S=function(e){return e.includes("@")&&e.includes(".")},j=function(e){e.forEach((function(e){""===l[e]?(w=!1,!1===!1&&x(e,!1)):(w=!0,x(e,!0))}))},C=function(e,t){return e===t&&e.length>=6&&t.length>=6};return r.a.createElement(b,null,r.a.createElement(g,null),r.a.createElement("div",{className:"col-md-9 col-sm-12 col-xs-12 mx-auto panel"},r.a.createElement("div",{className:"text-center py-3"},r.a.createElement("button",{onClick:function(){return e.back()},type:"button",className:"btn btn-lg float-left"},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("h3",{className:"form-title font-weight-bold"},"Registration")),r.a.createElement("form",{className:"p-2",method:"POST",autoComplete:"off"},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"first_name"},"First Name ",r.a.createElement("span",{className:"require"},"*")),r.a.createElement("input",{type:"text",className:"form-control inputBG",id:"first_name",placeholder:"First Name",name:"first_name",onChange:function(e){return s(Object(E.a)(Object(E.a)({},l),{},Object(_.a)({},e.target.name,e.target.value)))}}),r.a.createElement("div",{id:"first_name_feedback",className:"invalid-feedback is-invisible"},"Please first name is required.")),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"last_name"},"Last Name ",r.a.createElement("span",{className:"require"},"*")),r.a.createElement("input",{type:"text",className:"form-control inputBG",id:"last_name",placeholder:"Last Name",name:"last_name",onChange:function(e){return s(Object(E.a)(Object(E.a)({},l),{},Object(_.a)({},e.target.name,e.target.value)))}}),r.a.createElement("div",{id:"last_name_feedback",className:"invalid-feedback is-invisible"},"Please last name is required."))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"email"},"Email Address ",r.a.createElement("span",{className:"require"},"*")),r.a.createElement("input",{type:"email",className:"form-control inputBG",id:"email",placeholder:"Email Address",name:"email",onChange:function(e){return s(Object(E.a)(Object(E.a)({},l),{},Object(_.a)({},e.target.name,e.target.value)))}}),r.a.createElement("div",{id:"email_feedback",className:"invalid-feedback is-invisible"},"Please email is required.")),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"username"},"Username ",r.a.createElement("span",{className:"require"},"*")),r.a.createElement("input",{type:"text",className:"form-control inputBG",id:"username",placeholder:"Username",name:"username",onChange:function(e){return s(Object(E.a)(Object(E.a)({},l),{},Object(_.a)({},e.target.name,e.target.value)))}}),r.a.createElement("div",{id:"username_feedback",className:"invalid-feedback is-invisible"},"Please username is required."))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"password"},"Password ",r.a.createElement("span",{className:"require"},"*")),r.a.createElement("input",{type:"password",className:"form-control inputBG",id:"password",placeholder:"Password",name:"password",onChange:function(e){return s(Object(E.a)(Object(E.a)({},l),{},Object(_.a)({},e.target.name,e.target.value)))}}),r.a.createElement("div",{id:"password_feedback",className:"invalid-feedback is-invisible"},"Please password is required.")),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"confirmpassowrd"},"Confirm Password ",r.a.createElement("span",{className:"require"},"*")),r.a.createElement("input",{type:"password",className:"form-control inputBG",id:"password2",placeholder:"Confirm Password",name:"password2",onChange:function(e){return s(Object(E.a)(Object(E.a)({},l),{},Object(_.a)({},e.target.name,e.target.value)))}}),r.a.createElement("div",{id:"password2_feedback",className:"invalid-feedback is-invisible"},"Please confirm password is required."))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("select",{id:"city",className:"form-control inputBG",name:"city",onChange:function(e){return s(Object(E.a)(Object(E.a)({},l),{},Object(_.a)({},e.target.name,e.target.value)))}},r.a.createElement("option",{defaultValue:!0},"Choose..."),r.a.createElement("option",null,"Akosombo"),r.a.createElement("option",null,"Aburi"),r.a.createElement("option",null,"Accra"),r.a.createElement("option",null,"Kumasi"),r.a.createElement("option",null,"Koforidua"),r.a.createElement("option",null,"Tamale"),r.a.createElement("option",null,"Hohoe"))),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"address"},"Address"),r.a.createElement("input",{type:"text",className:"form-control inputBG",id:"address",placeholder:"Address",name:"address",onChange:function(e){return s(Object(E.a)(Object(E.a)({},l),{},Object(_.a)({},e.target.name,e.target.value)))}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"is_checked",onChange:function(e){return function(e){e.persist(),O=e.target.checked,m(!e.target.checked)}(e)},required:!0}),r.a.createElement("label",{className:"form-check-label",htmlFor:"gridCheck"},"I agree with the terms and conditions"," ",r.a.createElement("span",{className:"require"},"*")))),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{disabled:i,type:"submit",onClick:function(t){return function(t){if(!0,t.persist(),t.preventDefault(),j(["first_name","last_name","username","email","password","password2"]),S(l.email))return C(l.password,l.password2)?void(O?f("Please accept our terms and conditions before proceeding!","error"):w&&(k(!0),d.a.post("".concat(N,"register/"),l).then((function(t){k(!1),201===t.status&&e.submitRegister(t.data)})).catch((function(e){k(!1),f("Oops something go wrong! Please check to ensure all required fields are entered","error")})))):(f("Both password must match and be at least 7 characters","error"),x("password",!1),void x("password2",!1));x("email",!1,"Invaild email! Please enter a valid email.")}(t)},className:"btn btn-color rounded-pill px-5 my-4"},h?"Processing... ":"Create Account ",h?r.a.createElement("i",{className:"fas fa-spinner fa-spin"}):null)))))},P=function(e){return r.a.createElement(b,null,e.isLogin?r.a.createElement(C,{back:e.onBack,islogin:e.isLogin,submitLogin:e.onLogin}):r.a.createElement(L,{back:e.onBack,isregister:e.isRegister,submitRegister:e.onRegister}))},I=a(31),B=a.n(I),F=function(e){return r.a.createElement(b,null,r.a.createElement("footer",{className:"text-muted"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"float-right"},r.a.createElement(B.a,{icon:"fas fa-arrow-up",position:{bottom:"0%",right:"0%"},hover:{backgroundColor:"#fc81a0",opacity:"0.95"},margin:"32px"})),r.a.createElement("p",{className:"text-center text-black"},"\xa9 OctaVents All Reversed Rights."))))},A=Event=function(e){return r.a.createElement(b,null,r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"card mb-4 bg-white shadow-lg rounded-0"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title lead"},null!==e.eventInfo?e.eventInfo.title:""),r.a.createElement("p",{className:"card-text"},r.a.createElement("strong",null,"SPEAKER: ")," ",null!==e.eventInfo?e.eventInfo.speaker:""),r.a.createElement("p",{className:"card-text"},r.a.createElement("strong",null,"LOCATION: ")," ",null!==e.eventInfo?e.eventInfo.location:""),r.a.createElement("p",{className:"card-text"},r.a.createElement("strong",null,"TIME: ")," ",null!==e.eventInfo?e.eventInfo.title:""),r.a.createElement("p",{className:"card-text"},r.a.createElement("strong",null,"ROOM CAPACITY: ")," ",null!==e.eventInfo?e.eventInfo.room_capacity:""),r.a.createElement("p",{className:"card-text"},r.a.createElement("strong",null,"TAG LINE: ")," ",null!==e.eventInfo?e.eventInfo.tagline:""),r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-color btn-primary","data-toggle":"modal","data-target":"#staticBackdrop",onClick:function(){e.loadInfo(e.eventInfo)}},"Book now")),r.a.createElement("small",{className:"text-muted"},"Room:"," ",parseInt(e.eventInfo.room_capacity)-e.eventInfo.attendees," ","left"))))))},R=function(e){var t=function(t){e.loginNavHandler(t)},a=function(){var t=JSON.parse(localStorage.getItem("user")),a={method:"post",url:"".concat(h,"logout/"),headers:{Authorization:"Bearer ".concat(t.token)}};d()(a).then((function(t){200===t.status&&(localStorage.removeItem("user"),e.onlogout(!0),window.location.href=k)})).catch((function(t){localStorage.removeItem("user"),e.onlogout(!0),window.location.href=k}))};return r.a.createElement(b,null,r.a.createElement("header",{className:"header fixed-top"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark event-color shadow-lg fixed-top"},r.a.createElement("a",{className:"navbar-brand font-weight-bold",href:"#/"},"OctaVents"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},e.is_auth?r.a.createElement("li",{className:"nav-item dropdown ml-auto"},r.a.createElement("a",{href:"#/",className:"nav-link dropdown-toggle","data-toggle":"dropdown"},null!==e.user?e.user.username:"Welcome"),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},r.a.createElement("a",{href:"#/",className:"dropdown-item",onClick:function(){return e.onpage(!0)}},"Profile"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("a",{href:"#/",className:"dropdown-item",onClick:a},"Logout"))):r.a.createElement("li",{className:"nav-item",onClick:function(){return t("Login")}},r.a.createElement("button",{className:"btn btn-primary mb-2"},"Login")),e.is_auth?null:r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"btn btn-outline-info",onClick:function(){return t("Register")}},"Register")))))))},T=function(e){return r.a.createElement(b,null,r.a.createElement("div",{className:"modal fade",id:"staticBackdrop","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header text-center"},r.a.createElement("h5",{className:"modal-title",id:"staticBackdropLabel"},null!==e.event?e.event.title:"OctaVents"),r.a.createElement("button",{type:"button",className:"btn btn-color rounded-circle ","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body mx-1"},e.children)))))},q=function(e){var t=Object(n.useState)(!1),a=Object(v.a)(t,2),l=a[0],s=a[1],o={user_id:null,event_id:null,ticket:0,phone_number:null},c=function(e){e.persist(),e.preventDefault();var t=e.target,a=t.id,n=t.value;o[a]=n};return r.a.createElement(b,null,r.a.createElement(g,null),e.isAuth?null:r.a.createElement("p",{className:"text-center require"},"Please either login or register before proceeding. Thanks!"),r.a.createElement("form",{className:"p-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Your Name"),r.a.createElement("input",{type:"text",className:"form-control inputBG",id:"name",readOnly:!0,onChange:function(e){return c(e)},placeholder:"Your Name",value:null!==e.user?e.user.first_name+" "+e.user.last_name:""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"E-mail Address"),r.a.createElement("input",{type:"email",className:"form-control inputBG",id:"email",placeholder:"E-mail Address",readOnly:!0,onChange:function(e){return c(e)},value:null!==e.user?e.user.email:""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"phonenumber"},"Phone Number"),r.a.createElement("input",{type:"number",className:"form-control inputBG",id:"phone_number",placeholder:"Phone Number e.g. 0567133569",name:"phone_number",onChange:function(e){return c(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"ticket"},"Ticket Number"),r.a.createElement("select",{id:"ticket",className:"form-control inputBG",name:"ticket",onChange:function(e){return c(e)}},r.a.createElement("option",{defaultValue:!0},"Select..."),r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4"),r.a.createElement("option",null,"5"),r.a.createElement("option",null,"6"),r.a.createElement("option",null,"7"),r.a.createElement("option",null,"8"),r.a.createElement("option",null,"9"),r.a.createElement("option",null,"10"))),r.a.createElement("button",{type:"button",disabled:!(!l&&e.isAuth),onClick:function(t){return function(t){s(!0),t.persist(),t.preventDefault(),o.user_id=e.user.pk,o.event_id=e.event.id,console.log(o);var a={method:"post",url:"".concat(N,"event-book/"),data:o};d()(a).then((function(e){s(!1),700===e.data.status_code?f(e.data.result,"error","top-center"):f("Booked successfully","success","top-center")})).catch((function(e){console.log(e)}))}(t)},className:"btn btn-color btn-block rounded-pill my-4"},"BOOK ME!")))},D=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={events:[],event:null,user:null},e.loadEventInfo=function(t){e.setState(Object(E.a)(Object(E.a)({},e.state),{},{event:t}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.init()}},{key:"init",value:function(){this.getEvents()}},{key:"getUser",value:function(){this.props.user.pk}},{key:"getEvents",value:function(){var e=this;d.a.get("".concat(N,"events/")).then((function(t){var a=t.data.map((function(e){return{id:e.id,title:e.title,speaker:e.speaker,location:e.location,date:e.date,time:e.time,room_capacity:e.room_capacity,tagline:e.tagline,attendees:e.attendees.length}}));e.setState({events:a})}))}},{key:"render",value:function(){var e=this,t=this.state.events.map((function(t,a){return r.a.createElement(A,{key:a,eventInfo:t,loadInfo:e.loadEventInfo,info:a})}));return r.a.createElement(b,null,r.a.createElement(g,null),r.a.createElement(R,{onpage:this.props.onpage,loginNavHandler:this.props.loginNavHandler,user:this.props.user,is_auth:this.props.isAuthenticated,onlogout:this.props.islogout}),r.a.createElement("main",{role:"main",className:"pt-5 mt-2"},r.a.createElement("section",{className:"jumbotron text-center"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"display-2"},"Events"),r.a.createElement("p",{className:"lead text-muted"},"Looking for something to do in Accra? Whether you're a local, new in town or just cruising through we've got loads of great tips and events. You can explore by location, what's popular, our top picks, free stuff... you got this. Ready?"))),r.a.createElement("div",{className:"event py-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},t)))),r.a.createElement(F,null),r.a.createElement(T,{event:this.state.event},r.a.createElement(q,{isAuth:this.props.isAuthenticated,user:this.props.user,event:this.state.event})))}}]),a}(n.Component),G=(a(64),function(e){return r.a.createElement(b,null,r.a.createElement("nav",{className:"navbar navbar-dark sticky-top event-color flex-md-nowrap p-0 shadow"},r.a.createElement("a",{className:"navbar-brand col-md-3 col-lg-2 mr-0 px-3",href:"#/"},"OctaVents"),r.a.createElement("button",{className:"navbar-toggler position-absolute d-md-none collapsed",type:"button","data-toggle":"collapse","data-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("ul",{className:"navbar-nav px-3"},r.a.createElement("li",{className:"nav-item text-nowrap"},r.a.createElement("a",{className:"nav-link",href:"#/",onClick:function(){var t=JSON.parse(localStorage.getItem("user")),a={method:"post",url:"".concat(h,"logout/"),headers:{Authorization:"Bearer ".concat(t.token)}};d()(a).then((function(t){200===t.status&&(localStorage.removeItem("user"),e.onlogout(!0))})).catch((function(t){localStorage.removeItem("user"),e.onlogout(!0)}))}},"Sign out")))))}),U=function(e){return r.a.createElement(b,null,r.a.createElement("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"},r.a.createElement("div",{className:"sidebar-sticky pt-3"},r.a.createElement("ul",{className:"nav flex-column"},e.is_superuser?r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"#",onClick:function(){return e.onSwitch("")}},r.a.createElement("i",{className:"fas fa-columns"})," Dashboard",r.a.createElement("span",{className:"sr-only"},"(current)"))):null,e.is_superuser?r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"#",onClick:function(){return e.onSwitch("users")}},r.a.createElement("i",{className:"fas fa-users"})," Users")):null,e.is_superuser?null:r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"#",onClick:function(){return e.onSwitch("ebooks")}},r.a.createElement("i",{className:"fas fa-book-open"})," Your Book Events")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"#",onClick:function(){return e.onSwitch("profile")}},r.a.createElement("i",{className:"fas fa-user"})," Profile"))),r.a.createElement("div",{className:"fixed-bottom"},r.a.createElement("button",{className:"btn btn-color",onClick:function(){return e.onpage(!1)}},"Back to Home")))))},H=a(10),M=a.n(H),J=function(e){var t=null===e.events?[]:e.events,a=r.a.useState(!0),n=Object(v.a)(a,2),l=n[0],s=n[1];r.a.useEffect((function(){var e=setTimeout((function(){s(!1)}),1e3);return function(){return clearTimeout(e)}}),[]);return r.a.createElement(b,null,r.a.createElement(M.a,{title:"Event Lists",columns:[{name:"Title",selector:"title",sortable:!0},{name:"Speaker",selector:"speaker",sortable:!0},{name:"Location",selector:"location",sortable:!0},{name:"Date",selector:"date",sortable:!0},{name:"Room",selector:"room_capacity",sortable:!0},{name:"Attendees",selector:"attendees",sortable:!0}],data:t,pagination:!0,progressPending:l}))},V=a(35),Y=a.n(V),K=function(e){return r.a.createElement(b,null,r.a.createElement("div",{className:"card",style:{width:"18rem"}},r.a.createElement("img",{src:Y.a.image.avatar(),className:"card-img-top",alt:"Profile image"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Card title"),r.a.createElement("p",{className:"card-text"},"Some quick example text to build on the card title and make up the bulk of the card's content."),r.a.createElement("a",{href:"#/",className:"btn btn-primary"},"Go somewhere"))))},W=function(e){var t=null===e.books?[]:e.books,a=r.a.useState(!0),n=Object(v.a)(a,2),l=n[0],s=n[1];r.a.useEffect((function(){var e=setTimeout((function(){s(!1)}),1e3);return function(){return clearTimeout(e)}}),[]);return r.a.createElement(b,null,r.a.createElement(M.a,{title:"Booked Event Lists",columns:[{name:"Title",selector:"event_title",sortable:!0},{name:"Speaker",selector:"event_speaker",sortable:!0},{name:"Ticket",selector:"ticket",sortable:!0},{name:"Location",selector:"event_location",sortable:!0},{name:"Tagline",selector:"event_tagline",sortable:!0}],data:t,pagination:!0,progressPending:l}))},z=function(e){var t=null===e.users?[]:e.users,a=r.a.useState(!0),n=Object(v.a)(a,2),l=n[0],s=n[1];r.a.useEffect((function(){var e=setTimeout((function(){s(!1)}),1e3);return function(){return clearTimeout(e)}}),[]);return r.a.createElement(b,null,r.a.createElement(M.a,{title:"User Lists",columns:[{name:"Username",selector:"username",sortable:!0},{name:"Name",selector:"name",sortable:!0},{name:"email",selector:"email",sortable:!0},{name:"Address",selector:"address",sortable:!0}],data:t,pagination:!0,progressPending:l}))},$=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={events:[],users:null,event:null,eventbooks:null,selectPage:""},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.init()}},{key:"init",value:function(){this.getEvents(),this.getBooks(),this.getUsers()}},{key:"getBooks",value:function(){var e=this;this.props.user.is_superuser||d.a.get("".concat(N,"event-book/").concat(this.props.user.pk)).then((function(t){console.log(t.data),e.setState({eventbooks:t.data})}))}},{key:"getEvents",value:function(){var e=this;d.a.get("".concat(N,"events/")).then((function(t){var a=t.data.map((function(e){return{id:e.id,title:e.title,speaker:e.speaker,location:e.location,date:e.date,time:e.time,room_capacity:e.room_capacity,tagline:e.tagline,attendees:e.attendees.length}}));e.setState({events:a})}))}},{key:"getUsers",value:function(){var e=this;d.a.get("".concat(N,"users/")).then((function(t){e.setState({users:t.data})}))}},{key:"onSwitchPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({selectPage:e})}},{key:"render",value:function(){return r.a.createElement(b,null,r.a.createElement(G,{onlogout:this.props.islogout}),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement(U,{onpage:this.props.onpage,onSwitch:this.onSwitchPage.bind(this),is_superuser:this.props.user.is_superuser}),r.a.createElement("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-md-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"})),r.a.createElement("div",{className:"my-3 p-2 shadow",style:{background:"white",borderTop:"5px solid #4B0314"}},""===this.state.selectPage?r.a.createElement(J,{events:this.state.events}):null,"ebooks"===this.state.selectPage?r.a.createElement(W,{books:this.state.eventbooks}):null,"users"===this.state.selectPage?r.a.createElement(z,{users:this.state.users}):null,"profile"===this.state.selectPage?r.a.createElement(K,null):null)))))}}]),a}(n.Component),Q=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isLoginForm:!1,isRegisterForm:!1,isAuthenticated:!1,user:null,isDashboard:!1},e.setSwitchForm=function(t){e.setState({isLoginForm:t})},e.onSubmitLogin=function(t){t&&(e.setState({isAuthenticated:!0,isLoginForm:!t,user:t,isRegisterForm:!t}),e.getUser())},e.onLoginPageHandler=function(t){"login"===t.toLowerCase()?e.setState({isLoginForm:!0,isRegisterForm:!0}):"register"===t.toLowerCase()?e.setState({isRegisterForm:!0}):e.setState({isLoginForm:!1,isRegisterForm:!1})},e.onLogout=function(t){t?(e.setState({isAuthenticated:!1,isDashboard:!1}),e.setState({user:null})):f("Ooop!, Look like you can't log out.","info")},e.onNavBack=function(){e.setState({isLoginForm:!1,isRegisterForm:!1,isDashboard:!1})},e.onSubmitRegister=function(t){t.is_success&&(f("Registered successfully! Confirm email link has been sent so please check your inbox or spam.","success"),e.setState({isLoginForm:t.is_success}))},e.onPageChange=function(t){t?(console.log("Dashboard"),e.setState({isDashboard:!0})):(console.log("Event page"),e.setState({isDashboard:!1}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.init(),this.getUser()}},{key:"init",value:function(){j()?this.setState({isAuthenticated:!1}):this.setState({isAuthenticated:!0})}},{key:"getUser",value:function(){var e=this,t=j?JSON.parse(localStorage.getItem("user")):null;null!==t&&d.a.get("".concat(N,"user/").concat(t.pk,"/")).then((function(t){e.setState({user:t.data})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:this.state.isLoginForm?"container mtop mb-3":"container mt-3 mb-3"},r.a.createElement("div",{className:"row mx-1"},r.a.createElement("div",{className:"col-md-9 col-sm-12 col-xs-12 mx-auto text-center py-3"},r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Switch button form"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.setSwitchForm(!0)}},"LOGIN"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.setSwitchForm(!1)}},"REGISTER"))),r.a.createElement(P,{onLogin:this.onSubmitLogin,onRegister:this.onSubmitRegister,onBack:this.onNavBack,isLogin:this.state.isLoginForm,isRegister:this.state.isRegisterForm})));return r.a.createElement(b,null,r.a.createElement(g,null),this.state.isDashboard?r.a.createElement($,{user:this.state.user,onpage:this.onPageChange,islogout:this.onLogout}):this.state.isLoginForm||this.state.isRegisterForm?t:r.a.createElement(D,{onpage:this.onPageChange,loginNavHandler:this.onLoginPageHandler,user:this.state.user,isAuthenticated:this.state.isAuthenticated,islogout:this.onLogout}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,t,a){e.exports=a(1114)},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){}},[[36,1,2]]]);
//# sourceMappingURL=main.edc9864e.chunk.js.map